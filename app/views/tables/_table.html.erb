<div class="table-responsive">
  <table class="footable table table-stripped" data-page-size="8" data-filter=#filter data-table-name='<%= current_table %>'>
    <thead>
      <tr>
        <% @headers.each do |header|%>
          <% @column_is_hidden = @hidden_columns.include?(header) %>

          <% if @column_is_hidden %>
            <th class='column-<%= header %> hide'><%= header %></th>
          <% else %>
            <th class='column-<%= header %>'><%= header %></th>
          <% end %>
        <% end %>
      </tr>
    </thead>

    <tbody>
      <% @rows.each do |r|%>
        <tr class="clickable-row" data-href='<%= table_record_preview_path(table: @target_db_repo.table, table_name: @target_db_repo.table.downcase, record_id: r['id']) %>'>
          <% if table_has_layout?(@current_table) %>
            <%= render 'table_with_layout', r: r, hidden_columns: @hidden_columns %>
          <% else %>
            <%= render 'table_without_layout', r: r, hidden_columns: @hidden_columns %>
          <% end %>
        </tr>
      <% end %>
    </tbody>

    <tfoot>
      <tr>
        <td colspan=<%= @headers.size + 1 %>>
          <ul class="pagination pull-right"></ul>
        </td>
      </tr>
    </tfoot>
  </table>
</div>
