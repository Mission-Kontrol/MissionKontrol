<% @main_container2_items = items_for_container(layout_builder, 'draggable_fields_main_container2') %>
<% @main_container2_items.each do |k, v|  %>
  <% if v["table"] == @current_table %>
    <% @current_row = @row %>
  <% else %>
    <% @current_row = get_related_row(@current_table, v["table"], @row["id"]) %>
  <% end %>

  <% if v["editable"] == "true" %>
    <div class="row editable-row">
      <div class="col-xs-8">
        <div class="editable-content-wrapper">
          <p>
            <b><%= v["title"] %></b>:

            <span class="editable-content">
              <% if @current_row %>
                <%= @current_row[v["title"]] %>
              <% else %>
                --
              <% end %>
            </span>
          </p>
        </div>

        <div class="editable-input">
            <% if v["kind"] == 'integer' %>
              <input type="number" class="form-control" value="<%= @current_row.nil? ? "" : @current_row[v["title"]] %>">
            <% else %>
              <input type="text" class="form-control" value="<%= @current_row.nil? ? "" : @current_row[v["title"]] %>">
            <% end %>
        </div>
      </div>

      <div class="col-xs-4 text-right">
        <% if @current_row %>
          <%= render partial: 'tables/layout/editable_actions', locals: {v: v, params: params} %>
        <% end %>
      </div>
    </div>
  <% else %>
    <div class="">
      <p>
        <b><%= v["title"] %></b>:

        <span class="">
          <% if @current_row %>
            <%= @current_row[v["title"]] %>
          <% else %>
              --
          <% end %>
        </span>
      </p>
    </div>
  <% end %>
<% end  %>
