<% @header_container1_items = items_for_container(layout_builder, 'draggable_fields_header_container1')%>
<% @header_container1_items.each do |k, v|  %>
  <% if v["table"] == @table_name %>
    <% @current_row = @row %>
  <% else %>
    <% @current_row = get_related_row(@table_name, v["table"], @row["id"]) %>
  <% end %>

  <% if v["editable"] == "true" %>
    <div class="row editable-row">
      <div class="col-xs-9">
        <div class="editable-content-wrapper">
          <% if @current_row &&  !@current_row[v["title"]].blank? %>
            <h3 class="editable-content"><%= @current_row[v["title"]] %></h3>
            <% else %>
            <h3 class="editable-content">--</h3>
          <% end %>
        </div>

        <div class="editable-input">
          <% if @current_row %>
            <% if v["kind"] == 'integer' %>
              <input type="number" class="form-control" value="<%= @current_row.nil? ? "" : @current_row[v["title"]] %>">
            <% else %>
              <input type="text" class="form-control" value="<%= @current_row.nil? ? "" : @current_row[v["title"]] %>">
            <% end %>
          <% end %>
        </div>
      </div>

      <div class="col-xs-3 text-right">
        <% if @current_row %>
          <%= render partial: 'tables/layout/editable_actions', locals: {v: v, params: params} %>
        <% end %>
      </div>
    </div>
  <% else %>
    <div class="">
      <% if @current_row %>
        <h3><%= @current_row[v["title"]] %></h3>
      <% else %>
        <p>--</p>
      <% end %>
    </div>
  <% end %>
<% end  %>
