<!-- Twilio call button -->
<div class="row m-b">
  <div class="col-sm-12">
    <div class="text-right">
    <div class="well well-sm hide" id="call-status">
       Connecting to Twilio...
     </div>
     <button onclick="callCustomer('<%= @row["number"] %>')" type="button" class="btn btn-primary call-customer-button">
       <span class="glyphicon glyphicon-earphone" aria-hidden="true"></span>
       Call <%= layout_builder.table_name.singularize %>
     </button>
     <button class="btn btn-danger hangup-button" onclick="hangUp()" disabled>Hang up</button>
   </div>
  </div>
</div>
<!-- Twilio call button -->

<div class="row white-bg">
  <!-- Twilio call button -->
  <div class="col-sm-12">
    <div class="text-right">
     <button onclick="callCustomer('<%# ticket.phone_number %>')" type="button" class="btn btn-primary call-customer-button">
       <span class="glyphicon glyphicon-earphone" aria-hidden="true"></span>
       Call customer
     </button>
   </div>
  </div>
<!-- Twilio call button -->

  <div class="col-sm-12">
    <div class="row">
      <div class="col-sm-12">
        <div class="table-record-placeholder-header">
          <%= render 'tables/layout/header_container1', layout_builder: layout_builder %>
        </div>
      </div>

      <div class="col-sm-12">
        <div class="table-record-placeholder-header">
          <%= render 'tables/layout/header_container2', layout_builder: layout_builder %>
        </div>
      </div>
    </div>
  </div>
</div>

<% unless draggable_fields_container_is_empty?(layout_builder.draggable_fields_main_container1) &&
          draggable_fields_container_is_empty?(layout_builder.draggable_fields_main_container2) &&
          draggable_fields_container_is_empty?(layout_builder.draggable_fields_main_container3) %>
  <div class="wrapper">
    <div class="row m-t white-bg">
      <div class="col-sm-4">
        <div class="table-record-placeholder">
          <%= render 'tables/layout/main_container1', layout_builder: layout_builder %>
        </div>
      </div>

      <div class="col-sm-4">
        <div class="table-record-placeholder">
          <%= render 'tables/layout/main_container2', layout_builder: layout_builder %>
        </div>
      </div>

      <div class="col-sm-4">
        <div class="table-record-placeholder">
          <%= render 'tables/layout/main_container3', layout_builder: layout_builder %>
        </div>
      </div>
    </div>
  <% end %>

  <div class="row m-t m-b">
    <% unless draggable_fields_container_is_empty?(layout_builder.draggable_fields_side_container) %>
      <div class="col-sm-5 p-none">
        <div class="m-r white-bg p-xs">
          <div class="table-record-placeholder">
            <%= render 'tables/layout/side_container', layout_builder: layout_builder %>
          </div>
        </div>
      </div>
    <% end %>

    <% if @activities %>
      <div class="col-sm-7 pull-right">
        <div class="row white-bg">
          <div class="p-sm enjoyhint-table-detail-handler">
            <%= render 'shared/activity_history', feedable_type: @target_db_repo.table, feedable_id: @row["id"] %>
          </div>
        </div>
      </div>
    <% end %>

    <div class="clearfix"></div>
  </div>
</div>
