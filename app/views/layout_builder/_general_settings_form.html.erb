<% @action_for_layout_builder = action_name == 'edit' ? 'update' : 'create' %>
<%= form_for(@view_builder, :url => url_for(:controller => 'layout_builder', action: @action_for_layout_builder),  remote: true) do |form| %>
  <div class="form-group">
    <%= form.hidden_field :layout_id, value: params[:id] %>
  </div>

  <div class="form-group">
    <strong>Primary table</strong>
    <p>Select the primary table that this layout will be based on.</p>
    <%= form.select :table_name,
                    options_for_select(@available_tables, selected: @view_builder.table_name),
                    { prompt: "Select a table" },
                    { class: 'form-control' , "data-table-name" =>  @view_builder.table_name, :disabled => true } %>
  </div>

  <div class="form-group">
    <strong>Show status</strong>
    <p>Display a status in the header.</p>
    <%= form.check_box :show_status, class: "form-control" %>
  </div>

  <div class="form-group">
    <strong>Commentable</strong>
    <p>Users can add comments related to primary table.</p>
    <%= form.check_box :commentable, class: "form-control" %>
  </div>

  <div class="form-group">
    <strong>Parent comments table</strong>
    <p>Select a parent table if applicable. E.g. Companies might be parent to Users.</p>
    <%= form.select :parent_comment_table,
                    options_for_select(@available_tables, selected: @view_builder.parent_comment_table),
                    { prompt: "Select a table" },
                    { class: 'form-control' } %>
  </div>

  <div class="actions" style="text-align: right">
    <%= form.submit "Save", class: "btn btn-primary" %>
  </div>
<% end %>
